<!DOCTYPE html>
<html lang = "ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>의사 스케줄</title>
<link rel="stylesheet" href="/css/AcceptanceConditionstyle.css">

<style>

</style>
</head>
<body>
<!-- 사이드 바 -->
<div class = "sidebar">
	<div class = "profile">
		<div class = "profile-icon">👤</div>
		<span>내 프로필</span>
	</div>
	
	<div class = "menu-item">
		<div class = "menu-icon">🔔</div>
		<span>알림</span>
	</div>
	
	<a href="acceptanceHome" class = "menu-item">
		<div class = "menu-icon">🏠</div>
		<span>홈</span>
	</a>
	
	<div class="menu-item has-submenu" onclick="toggleSubMenu(this)">
		<div class = "menu-icon">📋</div>
		<span>진료</span>
	</div>
	<ul class="submenu">
	<a href="acceptanceDoctor">
   	 	<li class="submenu-item active">의사 스케줄</li></a>
    	<li class="submenu-item">진료 상태</li>
	</ul>
	
	<a href="acceptanceReception" class="menu-item">
	  <div class="menu-icon">👥</div>
	  <span>예약</span>
	</a>

	
	<div class = "menu-item">
		<div class = "menu-icon">✏️</div>
		<span>수납</span>
	</div>
	
	<div class = "menu-item">
		<div class = "menu-icon">💜</div>
		<span>재고</span>
	</div>
	
	<div class = "menu-item">
		<div class = "menu-icon">👥</div>
		<span>입원</span>
	</div>
</div>

  <div class="main-content">
    <div class="clinic-header">
      <div class="clinic-left">매딕링크<br><small>MedicLing</small></div>
      <div class="clinic-center">진료실현황</div>
      <div class="clinic-right">
        <span id="clinic-time">오후 08:20</span>
        <span id="clinic-date">07/13[금]</span>
      </div>
    </div>

<div class="clinic-status">
    <div class="room-container">
       <!-- 진료실 1 -->
  <div class="room-box">
    <div class="doctor-header">
      <img src="/images/IMG_2487.jpg" class="doctor-photo" alt="의사사진">
      <div>
        <h3>진료실 1</h3>
        <p>전민규 <small>내과 전문의</small></p>
      </div>
    </div>
    <div class="divider-row">
      <span class="status">진료중</span>
      <span class="current-patient">성연오님</span>
    </div>
    <div class="patient-area">
      <div class="left">
        <p class="waiting-label">대기자</p>
        <p class="waiting-count">50명</p>
      </div>
      <ul class="right">
        <li>1. 임순혁님</li>
        <li>2. 오기한님</li>
        <li>3. 도화연님</li>
        <li>4. 임재한님</li>
      </ul>
    </div>
  </div>

  <!-- 진료실 2 -->
  <div class="room-box">
    <div class="doctor-header">
      <img src="/images/IMG_2487.jpg" class="doctor-photo" alt="의사사진">
      <div>
        <h3>진료실 2</h3>
        <p>이화진 <small>내과 전문의</small></p>
      </div>
    </div>
    <div class="divider-row">
      <span class="status">진료중</span>
      <span class="current-patient">한서린님</span>
    </div>
    <div class="patient-area">
      <div class="left">
        <p class="waiting-label">대기자</p>
        <p class="waiting-count">30명</p>
      </div>
      <ul class="right">
        <li>1. 김한일님</li>
        <li>2. 한수한님</li>
        <li>3. 김이한님</li>
        <li>4. 우사한님</li>
      </ul>
    </div>
  </div>

  <!-- 진료실 3 -->
  <div class="room-box">
    <div class="doctor-header">
      <img src="/images/photo_1737695158.jpg" class="doctor-photo" alt="의사사진">
      <div>
        <h3>진료실 3</h3>
        <p>오진우 <small>내과 전문의</small></p>
      </div>
    </div>
    <div class="divider-row">
      <span class="status">진료중</span>
      <span class="current-patient">홍지민님</span>
    </div>
    <div class="patient-area">
      <div class="left">
        <p class="waiting-label">대기자</p>
        <p class="waiting-count">36명</p>
      </div>
      <ul class="right">
        <li>1. 김애령님</li>
        <li>2. 우가한님</li>
        <li>3. 오지한님</li>
        <li>4. 김이해님</li>
      </ul>
    </div>
  </div>

  <!-- 진료실 4 -->
  <div class="room-box">
    <div class="doctor-header">
      <img src="/images/doctor4.png" class="doctor-photo" alt="의사사진">
      <div>
        <h3>진료실 4</h3>
        <p>박성민 <small>내과 전문의</small></p>
      </div>
    </div>
    <div class="divider-row">
      <span class="status">진료중</span>
      <span class="current-patient">정우진님</span>
    </div>
    <div class="patient-area">
      <div class="left">
        <p class="waiting-label">대기자</p>
        <p class="waiting-count">45명</p>
      </div>
      <ul class="right">
        <li>1. 이지훈님</li>
        <li>2. 정우진님</li>
        <li>3. 윤서진님</li>
        <li>4. 한지민님</li>
      </ul>
    </div>
  </div>

</div>

<script>
function toggleSubMenu(menuItem) {
    const allMenuItems = document.querySelectorAll('.menu-item');
    const allSubmenus = document.querySelectorAll('.submenu');

    // 현재 이미 열려 있는 경우 닫기
    const isActive = menuItem.classList.contains('active');
    allMenuItems.forEach(item => item.classList.remove('active'));
    allSubmenus.forEach(sub => sub.style.display = 'none');

    // 다시 열기 (닫기 상태였다면)
    if (!isActive) {
        menuItem.classList.add('active');
        const submenu = menuItem.nextElementSibling;
        if (submenu && submenu.classList.contains('submenu')) {
            submenu.style.display = 'block';
        }
    }
}

// 하위 메뉴 클릭 시 활성화 처리
document.addEventListener('DOMContentLoaded', function () {
    const submenuItems = document.querySelectorAll('.submenu-item');
    submenuItems.forEach(item => {
        item.addEventListener('click', function () {
            submenuItems.forEach(i => i.classList.remove('active'));
            item.classList.add('active');
        });
    });
});


function updateClinicTime() {
  const now = new Date();
  const hour = now.getHours();
  const minutes = now.getMinutes().toString().padStart(2, '0');
  const ampm = hour >= 12 ? '오후' : '오전';
  const hour12 = hour % 12 || 12;
  const weekday = ['일','월','화','수','목','금','토'][now.getDay()];
  const dateStr = `${now.getMonth() + 1}/${now.getDate()}[${weekday}]`;

  document.getElementById("clinic-time").textContent = `${ampm} ${hour12}:${minutes}`;
  document.getElementById("clinic-date").textContent = dateStr;
}
document.addEventListener('DOMContentLoaded', updateClinicTime);
setInterval(updateClinicTime, 60000); // 1분마다 갱신

</script>