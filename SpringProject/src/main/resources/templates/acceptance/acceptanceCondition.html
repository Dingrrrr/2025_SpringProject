<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì˜ì‚¬ ìŠ¤ì¼€ì¤„</title>
<link rel="stylesheet" href="/css/AcceptanceConditionstyle.css">

<style>

</style>
</head>
<body>
<!-- ì‚¬ì´ë“œ ë°” -->
<div class = "sidebar">
	<div class = "profile">
		<div class = "profile-icon">ğŸ‘¤</div>
		<span>ë‚´ í”„ë¡œí•„</span>
	</div>
	
	<div class = "menu-item">
		<div class = "menu-icon">ğŸ””</div>
		<span>ì•Œë¦¼</span>
	</div>
	
	<a href="acceptanceHome" class = "menu-item">
		<div class = "menu-icon">ğŸ </div>
		<span>í™ˆ</span>
	</a>
	
	<div class="menu-item has-submenu" onclick="toggleSubMenu(this)">
		<div class = "menu-icon">ğŸ“‹</div>
		<span>ì§„ë£Œ</span>
	</div>
	<ul class="submenu">
	<a href="acceptanceDoctor">
   	 	<li class="submenu-item active">ì˜ì‚¬ ìŠ¤ì¼€ì¤„</li></a>
    	<li class="submenu-item">ì§„ë£Œ ìƒíƒœ</li>
	</ul>
	
	<a href="acceptanceReception" class="menu-item">
	  <div class="menu-icon">ğŸ‘¥</div>
	  <span>ì˜ˆì•½</span>
	</a>

	
	<div class = "menu-item">
		<div class = "menu-icon">âœï¸</div>
		<span>ìˆ˜ë‚©</span>
	</div>
	
	<div class = "menu-item">
		<div class = "menu-icon">ğŸ’œ</div>
		<span>ì¬ê³ </span>
	</div>
	
	<div class = "menu-item">
		<div class = "menu-icon">ğŸ‘¥</div>
		<span>ì…ì›</span>
	</div>
</div>

  <div class="main-content">
    <div class="clinic-header">
      <div class="clinic-left">ë§¤ë”•ë§í¬<br><small>MedicLing</small></div>
      <div class="clinic-center">ì§„ë£Œì‹¤í˜„í™©</div>
      <div class="clinic-right">
        <span id="clinic-time">ì˜¤í›„ 08:20</span>
        <span id="clinic-date">07/13[ê¸ˆ]</span>
      </div>
    </div>

<div class="clinic-status">
    <div class="room-container">
       <!-- ì§„ë£Œì‹¤ 1 -->
  <div class="room-box">
    <div class="doctor-header">
      <div>
        <h3>ì§„ë£Œì‹¤ 1</h3>

      </div>
    </div>
    <div class="divider-row">
      <span class="status">ì§„ë£Œì¤‘</span>
      <span class="current-patient">ì„±ì—°ì˜¤ë‹˜</span>
    </div>
    <div class="patient-area">
      <div class="left">
		<p class="waiting-count" th:text="${room1Appts.size()} + 'ëª…'">50ëª…</p>
      </div>
		<ul class="right">
			<li th:each="appt, stat : ${room1Appts}" th:text="${stat.index + 1} + '. ' + ${appt.patient.patientName + 'ë‹˜'}"></li>

		</ul>

    </div>
  </div>

  <!-- ì§„ë£Œì‹¤ 2 -->
  <div class="room-box">
    <div class="doctor-header">
      <div>
        <h3>ì§„ë£Œì‹¤ 2</h3>
      </div>
    </div>
    <div class="divider-row">
      <span class="status">ì§„ë£Œì¤‘</span>
      <span class="current-patient">í•œì„œë¦°ë‹˜</span>
    </div>
    <div class="patient-area">
      <div class="left">
		<p class="waiting-count" th:text="${room2Appts.size()} + 'ëª…'">50ëª…</p>
      </div>
		<ul class="right">
			<li th:each="appt, stat : ${room2Appts}" th:text="${stat.index + 1} + '. ' + ${appt.patient.patientName + 'ë‹˜'}"></li>

		</ul>

    </div>
  </div>

  <!-- ì§„ë£Œì‹¤ 3 -->
  <div class="room-box">
    <div class="doctor-header">
      <div>
        <h3>ì§„ë£Œì‹¤ 3</h3>
      </div>
    </div>
    <div class="divider-row">
      <span class="status">ì§„ë£Œì¤‘</span>
      <span class="current-patient">í™ì§€ë¯¼ë‹˜</span>
    </div>
    <div class="patient-area">
      <div class="left">
		<p class="waiting-count" th:text="${room3Appts.size()} + 'ëª…'">50ëª…</p>
      </div>
		<ul class="right">
			<li th:each="appt, stat : ${room3Appts}" th:text="${stat.index + 1} + '. ' + ${appt.patient.patientName + 'ë‹˜'}"></li>
		</ul>
    </div>
  </div>

  <!-- ì§„ë£Œì‹¤ 4 -->
  <div class="room-box">
    <div class="doctor-header">
      <div>
        <h3>ì§„ë£Œì‹¤ 4</h3>

      </div>
    </div>
    <div class="divider-row">
      <span class="status">ì§„ë£Œì¤‘</span>
      <span class="current-patient">ì •ìš°ì§„ë‹˜</span>
    </div>
    <div class="patient-area">
      <div class="left">
		<p class="waiting-count" th:text="${room4Appts.size()} + 'ëª…'">50ëª…</p>
      </div>
	<ul class="right">
			<li th:each="appt, stat : ${room4Appts}" th:text="${stat.index + 1} + '. ' + ${appt.patient.patientName + 'ë‹˜'}"></li>

	</ul>
    </div>
  </div>

</div>

<script>
function toggleSubMenu(menuItem) {
    const allMenuItems = document.querySelectorAll('.menu-item');
    const allSubmenus = document.querySelectorAll('.submenu');

    // í˜„ì¬ ì´ë¯¸ ì—´ë ¤ ìˆëŠ” ê²½ìš° ë‹«ê¸°
    const isActive = menuItem.classList.contains('active');
    allMenuItems.forEach(item => item.classList.remove('active'));
    allSubmenus.forEach(sub => sub.style.display = 'none');

    // ë‹¤ì‹œ ì—´ê¸° (ë‹«ê¸° ìƒíƒœì˜€ë‹¤ë©´)
    if (!isActive) {
        menuItem.classList.add('active');
        const submenu = menuItem.nextElementSibling;
        if (submenu && submenu.classList.contains('submenu')) {
            submenu.style.display = 'block';
        }
    }
}

// í•˜ìœ„ ë©”ë‰´ í´ë¦­ ì‹œ í™œì„±í™” ì²˜ë¦¬
document.addEventListener('DOMContentLoaded', function () {
    const submenuItems = document.querySelectorAll('.submenu-item');
    submenuItems.forEach(item => {
        item.addEventListener('click', function () {
            submenuItems.forEach(i => i.classList.remove('active'));
            item.classList.add('active');
        });
    });
});


function updateClinicTime() {
  const now = new Date();
  const hour = now.getHours();
  const minutes = now.getMinutes().toString().padStart(2, '0');
  const ampm = hour >= 12 ? 'ì˜¤í›„' : 'ì˜¤ì „';
  const hour12 = hour % 12 || 12;
  const weekday = ['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '][now.getDay()];
  const dateStr = `${now.getMonth() + 1}/${now.getDate()}[${weekday}]`;

  document.getElementById("clinic-time").textContent = `${ampm} ${hour12}:${minutes}`;
  document.getElementById("clinic-date").textContent = dateStr;
}
document.addEventListener('DOMContentLoaded', updateClinicTime);
setInterval(updateClinicTime, 60000); // 1ë¶„ë§ˆë‹¤ ê°±ì‹ 

</script>