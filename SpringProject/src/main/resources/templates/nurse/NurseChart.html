<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜ë£Œ ê¸°ë¡ ì°¨íŠ¸</title>
    <link rel="stylesheet" href="/css/NurseChartstyle.css">
</head>
<body>
    <!-- ì‚¬ì´ë“œë°” -->
    <div class="sidebar">
        <div class="profile">
            <div class="profile-icon">ğŸ‘¤</div>
            <span>ë‚´ í”„ë¡œí•„</span>
        </div>
        
        <a href="#" class="menu-item">
            <div class="menu-icon">ğŸ””</div>
            <span>ì•Œë¦¼</span>
        </a>
        
        <a href="VitalRecord" class="menu-item">
            <div class="menu-icon">ğŸ’œ</div>
            <span>ë°”ì´íƒˆ ê¸°ë¡</span>
        </a>
               
        <a href="#" class="menu-item active" id="chart-menu">
            <div class="menu-icon">ğŸ“‹</div>
            <span>ì°¨íŠ¸</span>
        </a>
        
        <a href="MedicationRecord" class="menu-item">
            <div class="menu-icon">ğŸ‘¥</div>
            <span>íˆ¬ì•½ ë° ì²˜ì¹˜ ê¸°ë¡</span>
        </a>
    </div>
	
    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="main-content">
        <!-- í—¤ë” -->
        <div class="header">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="í™˜ì ê²€ìƒ‰" id="search-input">
                <button class="search-btn" id="search-btn">ğŸ”</button>
                <!-- ê²€ìƒ‰ ê²°ê³¼ ë“œë¡­ë‹¤ìš´ -->
                <div class="search-dropdown" id="search-dropdown"></div>
            </div>
            <div class="patient-info" id="patient-info" style="display: none;">í™˜ìëª…</div>
            <div class="patient-details" id="patient-details" style="display: none;">í™˜ì ìƒì„¸ì •ë³´</div>
        </div>

        <!-- í™˜ì ë¦¬ìŠ¤íŠ¸ -->
        <div class="patient-list show" id="patient-list">
            <div class="patient-list-header">í™˜ì ëª©ë¡</div>
            <div class="patient-item" data-patient-id="1">
                <div class="patient-name">ë¯¼ê·œì§±</div>
                <div class="patient-detail">ì„±ë³„: ë‚¨ | ìƒë…„ì›”ì¼: 2000.08.04 | ì „í™”ë²ˆí˜¸: 010-7462-6853</div>
            </div>
            <div class="patient-item" data-patient-id="2">
                <div class="patient-name">ê¹€ì˜í¬</div>
                <div class="patient-detail">ì„±ë³„: ì—¬ | ìƒë…„ì›”ì¼: 1985.03.15 | ì „í™”ë²ˆí˜¸: 010-1234-5678</div>
            </div>
            <div class="patient-item" data-patient-id="3">
                <div class="patient-name">ë°•ì² ìˆ˜</div>
                <div class="patient-detail">ì„±ë³„: ë‚¨ | ìƒë…„ì›”ì¼: 1992.11.28 | ì „í™”ë²ˆí˜¸: 010-9876-5432</div>
            </div>
            <div class="patient-item" data-patient-id="4">
                <div class="patient-name">ì´ë¯¸ì •</div>
                <div class="patient-detail">ì„±ë³„: ì—¬ | ìƒë…„ì›”ì¼: 1978.07.22 | ì „í™”ë²ˆí˜¸: 010-5555-7777</div>
            </div>
            <div class="patient-item" data-patient-id="5">
                <div class="patient-name">ìµœì¤€í˜¸</div>
                <div class="patient-detail">ì„±ë³„: ë‚¨ | ìƒë…„ì›”ì¼: 1995.12.10 | ì „í™”ë²ˆí˜¸: 010-3333-9999</div>
            </div>
        </div>

        <!-- ì°¨íŠ¸ ë¦¬ìŠ¤íŠ¸ -->
        <div class="chart-list" id="chart-list">
            <div class="chart-list-header">
                <span id="selected-patient-name">í™˜ì</span>
                <button class="new-chart-btn" id="new-chart-btn">ìƒˆ ì°¨íŠ¸ ì‘ì„±</button>
            </div>
            <div id="chart-list-content">
                <!-- ì°¨íŠ¸ ë¦¬ìŠ¤íŠ¸ê°€ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <!-- ì»¨í…ì¸  ì˜ì—­ -->
        <div class="content-area chart-content" id="chart-content">
            <!-- ì°¨íŠ¸ ì„¹ì…˜ -->
            <div class="chart-section">
                <button class="back-btn" id="back-to-list">â† ì°¨íŠ¸ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                
                <div class="chart-controls">
                    <button class="chart-btn active">ì‘ì„±í•˜ê¸°</button>
                    <button class="chart-btn">ì €ì¥í•˜ê¸°</button>
                </div>

                <table class="chart-table">
                    <thead>
                        <tr>
                            <th style="width: 80px;"></th>
                            <th style="width: 120px;">ì•„ì¹¨</th>
                            <th style="width: 120px;">ì ì‹¬</th>
                            <th style="width: 120px;">ì €ë…</th>
                            <th style="width: 120px;">ì•¼ê°„</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="row-header">í˜ˆì••</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="row-header">ì‹¬ë°•ìˆ˜</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="row-header">ì²´ì˜¨</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="row-header">í˜¸í¡ìˆ˜</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // í™˜ì ë°ì´í„°
        const patients = {
            1: {
                name: "ë¯¼ê·œì§±",
                gender: "ë‚¨",
                birth: "2000.08.04",
                phone: "010-7462-6853"
            },
            2: {
                name: "ê¹€ì˜í¬",
                gender: "ì—¬",
                birth: "1985.03.15",
                phone: "010-1234-5678"
            },
            3: {
                name: "ë°•ì² ìˆ˜",
                gender: "ë‚¨",
                birth: "1992.11.28",
                phone: "010-9876-5432"
            },
            4: {
                name: "ì´ë¯¸ì •",
                gender: "ì—¬",
                birth: "1978.07.22",
                phone: "010-5555-7777"
            },
            5: {
                name: "ìµœì¤€í˜¸",
                gender: "ë‚¨",
                birth: "1995.12.10",
                phone: "010-3333-9999"
            }
        };

        // ì°¨íŠ¸ ë°ì´í„° (ì˜ˆì‹œ)
        const chartData = {
            1: [ // ë¯¼ê·œì§±ì˜ ì°¨íŠ¸ë“¤
                { id: 1, date: "2025-06-01", time: "09:30", status: "complete" },
                { id: 2, date: "2025-05-31", time: "14:20", status: "complete" },
                { id: 3, date: "2025-05-30", time: "11:15", status: "incomplete" }
            ],
            2: [ // ê¹€ì˜í¬ì˜ ì°¨íŠ¸ë“¤
                { id: 4, date: "2025-06-01", time: "10:00", status: "complete" },
                { id: 5, date: "2025-05-30", time: "16:30", status: "complete" }
            ],
            3: [ // ë°•ì² ìˆ˜ì˜ ì°¨íŠ¸ë“¤
                { id: 6, date: "2025-06-02", time: "08:45", status: "incomplete" },
                { id: 7, date: "2025-06-01", time: "13:20", status: "complete" }
            ]
        };

        let currentPatientId = null;
        let currentChartId = null;
        let isNewChart = false;

        // DOM ìš”ì†Œë“¤
        const patientList = document.getElementById('patient-list');
        const chartList = document.getElementById('chart-list');
        const chartContent = document.getElementById('chart-content');
        const patientInfo = document.getElementById('patient-info');
        const patientDetails = document.getElementById('patient-details');
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');
        const searchDropdown = document.getElementById('search-dropdown');
        const selectedPatientName = document.getElementById('selected-patient-name');
        const chartListContent = document.getElementById('chart-list-content');
        const newChartBtn = document.getElementById('new-chart-btn');
        const backToListBtn = document.getElementById('back-to-list');

        // ê²€ìƒ‰ ê¸°ëŠ¥
        function searchPatients() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            if (searchTerm === '') {
                searchDropdown.classList.remove('show');
                return;
            }
            
            // ê²€ìƒ‰ ê²°ê³¼ í•„í„°ë§
            const searchResults = Object.entries(patients).filter(([id, patient]) => {
                return patient.name.toLowerCase().includes(searchTerm) ||
                       patient.gender.toLowerCase().includes(searchTerm) ||
                       patient.birth.includes(searchTerm) ||
                       patient.phone.includes(searchTerm);
            });
            
            // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
            displaySearchResults(searchResults);
        }

        // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
        function displaySearchResults(results) {
            searchDropdown.innerHTML = '';
            
            if (results.length === 0) {
                searchDropdown.innerHTML = '<div class="no-results">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
            } else {
                results.forEach(([id, patient]) => {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'search-result-item';
                    resultItem.setAttribute('data-patient-id', id);
                    
                    resultItem.innerHTML = `
                        <div class="search-result-name">${patient.name}</div>
                        <div class="search-result-detail">ì„±ë³„: ${patient.gender} | ìƒë…„ì›”ì¼: ${patient.birth} | ì „í™”ë²ˆí˜¸: ${patient.phone}</div>
                    `;
                    
                    // ê²€ìƒ‰ ê²°ê³¼ í´ë¦­ ì´ë²¤íŠ¸
                    resultItem.addEventListener('click', function() {
                        selectPatientFromSearch(id, patient);
                    });
                    
                    searchDropdown.appendChild(resultItem);
                });
            }
            
            searchDropdown.classList.add('show');
        }

        // ê²€ìƒ‰ ê²°ê³¼ì—ì„œ í™˜ì ì„ íƒ í•¨ìˆ˜
        function selectPatientFromSearch(patientId, patient) {
            // í™˜ì ì •ë³´ í‘œì‹œ
            patientInfo.textContent = `${patient.name} í™˜ì`;
            patientDetails.textContent = `ì„±ë³„: ${patient.gender} | ìƒë…„ì›”ì¼: ${patient.birth} | ì „í™”ë²ˆí˜¸: ${patient.phone}`;
            
            // í˜„ì¬ ì„ íƒëœ í™˜ì ID ì €ì¥
            currentPatientId = patientId;
            
            // ì°¨íŠ¸ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ
            showChartList(patientId, patient.name);
            
            // ê²€ìƒ‰ì°½ ì´ˆê¸°í™” ë° ë“œë¡­ë‹¤ìš´ ìˆ¨ê¸°ê¸°
            searchInput.value = '';
            searchDropdown.classList.remove('show');
        }

        // ì°¨íŠ¸ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ í•¨ìˆ˜
        function showChartList(patientId, patientName) {
            selectedPatientName.textContent = patientName;
            
            // UI ì „í™˜
            patientList.classList.remove('show');
            chartList.classList.add('show');
            chartContent.classList.remove('show');
            patientInfo.style.display = 'block';
            patientDetails.style.display = 'block';
            
            // ì°¨íŠ¸ ë¦¬ìŠ¤íŠ¸ ë‚´ìš© ìƒì„±
            displayChartList(patientId);
        }

        // ì°¨íŠ¸ ë¦¬ìŠ¤íŠ¸ ë‚´ìš© í‘œì‹œ
        function displayChartList(patientId) {
            chartListContent.innerHTML = '';
            
            const charts = chartData[patientId] || [];
            
            if (charts.length === 0) {
                chartListContent.innerHTML = '<div style="padding: 20px; text-align: center; color: #666;">ì•„ì§ ì‘ì„±ëœ ì°¨íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
            } else {
                charts.forEach(chart => {
                    const chartItem = document.createElement('div');
                    chartItem.className = 'chart-item';
                    chartItem.setAttribute('data-chart-id', chart.id);
                    
                    chartItem.innerHTML = `
                        <div>
                            <div class="chart-date">${chart.date}</div>
                            <div class="chart-time">ì‘ì„±ì‹œê°„: ${chart.time}</div>
                        </div>                    
                    `;
                    
                    // ì°¨íŠ¸ í´ë¦­ ì´ë²¤íŠ¸
                    chartItem.addEventListener('click', function() {
                        openChart(chart.id);
                    });
                    
                    chartListContent.appendChild(chartItem);
                });
            }
        }

        // ì°¨íŠ¸ ì—´ê¸°
        function openChart(chartId) {
            chartList.classList.remove('show');
            chartContent.classList.add('show');
            
            // ê¸°ì¡´ ì°¨íŠ¸ ì—´ê¸° í”Œë˜ê·¸ ì„¤ì •
            isNewChart = false;
            currentChartId = chartId;
            
            // ê¸°ì¡´ ì°¨íŠ¸ ë°ì´í„° ë¡œë“œ
            loadChartData(chartId);
            
            console.log('ì°¨íŠ¸ ì—´ê¸°:', chartId);
        }

        // ìƒˆ ì°¨íŠ¸ ì‘ì„±
        newChartBtn.addEventListener('click', function() {
            chartList.classList.remove('show');
            chartContent.classList.add('show');
            
            // ìƒˆ ì°¨íŠ¸ í”Œë˜ê·¸ ì„¤ì •
            isNewChart = true;
            currentChartId = null;
            
            // ìƒˆ ì°¨íŠ¸ì´ë¯€ë¡œ í…Œì´ë¸” ì´ˆê¸°í™”
            clearChartTable();
        });

        // ê¸°ì¡´ ì°¨íŠ¸ ë°ì´í„° ë¡œë“œ í•¨ìˆ˜
        function loadChartData(chartId) {
            const patientCharts = chartData[currentPatientId];
            if (!patientCharts) return;

            const chart = patientCharts.find(c => c.id === chartId);
            if (!chart || !chart.data) return;

            // í…Œì´ë¸” ë°ì´í„° ë¡œë“œ
            const rows = ['í˜ˆì••', 'ì‹¬ë°•ìˆ˜', 'ì²´ì˜¨', 'í˜¸í¡ìˆ˜'];
            const times = ['ì•„ì¹¨', 'ì ì‹¬', 'ì €ë…', 'ì•¼ê°„'];
            
            rows.forEach((row, rowIndex) => {
                times.forEach((time, timeIndex) => {
                    const cell = document.querySelector(`.chart-table tbody tr:nth-child(${rowIndex + 1}) td:nth-child(${timeIndex + 2})`);
                    if (cell && chart.data[row] && chart.data[row][time]) {
                        cell.textContent = chart.data[row][time];
                    }
                });
            });

            // íŠ¹ì´ì‚¬í•­ ë°ì´í„° ë¡œë“œ
            if (chart.notes) {
                const medicationInput = document.querySelector('.form-input[placeholder*="ì•½ë¬¼"]');
                const diseaseInput = document.querySelector('.form-textarea[placeholder*="ì§ˆë³‘"]');
                const etcInput = document.querySelector('.form-textarea[placeholder*="ê¸°íƒ€"]');

                if (medicationInput) medicationInput.value = chart.notes.medication || '';
                if (diseaseInput) diseaseInput.value = chart.notes.disease || '';
                if (etcInput) etcInput.value = chart.notes.etc || '';
            }
        }
        function saveChart() {
            if (!currentPatientId) {
                alert('í™˜ìê°€ ì„ íƒë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                return;
            }

            // ì°¨íŠ¸ ë°ì´í„° ìˆ˜ì§‘
            const chartTableData = {};
            const rows = ['í˜ˆì••', 'ì‹¬ë°•ìˆ˜', 'ì²´ì˜¨', 'í˜¸í¡ìˆ˜'];
            const times = ['ì•„ì¹¨', 'ì ì‹¬', 'ì €ë…', 'ì•¼ê°„'];
            
            rows.forEach((row, rowIndex) => {
                chartTableData[row] = {};
                times.forEach((time, timeIndex) => {
                    const cell = document.querySelector(`.chart-table tbody tr:nth-child(${rowIndex + 1}) td:nth-child(${timeIndex + 2})`);
                    chartTableData[row][time] = cell.textContent.trim();
                });
            });

            // íŠ¹ì´ì‚¬í•­ ë°ì´í„° ìˆ˜ì§‘
            const medicationInput = document.querySelector('.form-input[placeholder*="ì•½ë¬¼"]');
            const diseaseInput = document.querySelector('.form-textarea[placeholder*="ì§ˆë³‘"]');
            const etcInput = document.querySelector('.form-textarea[placeholder*="ê¸°íƒ€"]');

            const notesData = {
                medication: medicationInput ? medicationInput.value : '',
                disease: diseaseInput ? diseaseInput.value : '',
                etc: etcInput ? etcInput.value : ''
            };

            if (isNewChart) {
                // ìƒˆ ì°¨íŠ¸ ì €ì¥
                const newChartId = Date.now(); // ê°„ë‹¨í•œ ID ìƒì„±
                const currentDate = new Date();
                const dateStr = currentDate.toISOString().split('T')[0];
                const timeStr = currentDate.toTimeString().split(' ')[0].substring(0, 5);

                const newChart = {
                    id: newChartId,
                    date: dateStr,
                    time: timeStr,
                    status: 'complete',
                    data: chartTableData,
                    notes: notesData
                };

                // ì°¨íŠ¸ ë°ì´í„°ì— ì¶”ê°€
                if (!chartData[currentPatientId]) {
                    chartData[currentPatientId] = [];
                }
                chartData[currentPatientId].unshift(newChart); // ìµœì‹  ì°¨íŠ¸ë¥¼ ë§¨ ìœ„ì— ì¶”ê°€

                alert('ìƒˆ ì°¨íŠ¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
            } else {
                // ê¸°ì¡´ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                const patientCharts = chartData[currentPatientId];
                if (patientCharts) {
                    const chartIndex = patientCharts.findIndex(chart => chart.id === currentChartId);
                    if (chartIndex !== -1) {
                        patientCharts[chartIndex].data = chartTableData;
                        patientCharts[chartIndex].notes = notesData;
                        patientCharts[chartIndex].status = 'complete';
                    }
                }
                alert('ì°¨íŠ¸ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }

            // ì°¨íŠ¸ ë¦¬ìŠ¤íŠ¸ë¡œ ëŒì•„ê°€ê¸°
            chartContent.classList.remove('show');
            chartList.classList.add('show');
            
            // ì°¨íŠ¸ ë¦¬ìŠ¤íŠ¸ ìƒˆë¡œê³ ì¹¨
            displayChartList(currentPatientId);
        }
        function clearChartTable() {
            document.querySelectorAll('.chart-table td:not(.row-header)').forEach(cell => {
                cell.textContent = '';
            });
            
            // íŠ¹ì´ì‚¬í•­ í¼ë„ ì´ˆê¸°í™”
            document.querySelectorAll('.form-input').forEach(input => {
                input.value = '';
            });
        }

        // ì°¨íŠ¸ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        backToListBtn.addEventListener('click', function() {
            chartContent.classList.remove('show');
            chartList.classList.add('show');
        });

        // í™˜ì ì•„ì´í…œ í´ë¦­ ì´ë²¤íŠ¸
        document.querySelectorAll('.patient-item').forEach(item => {
            item.addEventListener('click', function() {
                const patientId = this.getAttribute('data-patient-id');
                const patient = patients[patientId];
                
                if (patient) {
                    selectPatientFromSearch(patientId, patient);
                }
            });
        });

        // ì°¨íŠ¸ ë©”ë‰´ í´ë¦­ ì´ë²¤íŠ¸
        document.getElementById('chart-menu').addEventListener('click', function(e) {
            e.preventDefault();
            
            // í™˜ì ë¦¬ìŠ¤íŠ¸ ë³´ì´ê¸°, ë‹¤ë¥¸ í™”ë©´ ìˆ¨ê¸°ê¸°
            patientList.classList.add('show');
            chartList.classList.remove('show');
            chartContent.classList.remove('show');
            patientInfo.style.display = 'none';
            patientDetails.style.display = 'none';
            
            // ê²€ìƒ‰ ë“œë¡­ë‹¤ìš´ ìˆ¨ê¸°ê¸°
            searchDropdown.classList.remove('show');
            searchInput.value = '';
            
            // ë©”ë‰´ í™œì„±í™”
            document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
            this.classList.add('active');
        });

        // ê²€ìƒ‰ì°½ ì™¸ë¶€ í´ë¦­ì‹œ ë“œë¡­ë‹¤ìš´ ìˆ¨ê¸°ê¸°
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.search-bar')) {
                searchDropdown.classList.remove('show');
            }
        });

        // ê²€ìƒ‰ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        searchInput.addEventListener('input', searchPatients);
        searchBtn.addEventListener('click', function(e) {
            e.preventDefault();
            searchPatients();
        });

        // ë‹¤ë¥¸ ë©”ë‰´ ì•„ì´í…œë“¤ì€ ì •ìƒì ìœ¼ë¡œ hrefë¡œ í˜ì´ì§€ ì´ë™
        document.querySelectorAll('.menu-item:not(#chart-menu)').forEach(item => {
            item.addEventListener('click', function() {
                // hrefê°€ '#'ê°€ ì•„ë‹Œ ê²½ìš°ì—ë§Œ í™œì„±í™” ìƒíƒœ ë³€ê²½
                if (this.getAttribute('href') === '#') {
                    document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        // ì°¨íŠ¸ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        document.querySelectorAll('.chart-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.chart-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                if (this.textContent === 'ì €ì¥í•˜ê¸°') {
                    saveChart();
                }
            });
        });

        // ì°¨íŠ¸ ì…€ í´ë¦­ ì´ë²¤íŠ¸ (ê°’ ì…ë ¥)
        document.querySelectorAll('.chart-table td:not(.row-header)').forEach(cell => {
            cell.addEventListener('click', function() {
                if (!this.querySelector('input')) {
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.style.width = '100%';
                    input.style.border = 'none';
                    input.style.textAlign = 'center';
                    input.value = this.textContent;
                    
                    input.addEventListener('blur', function() {
                        cell.textContent = this.value;
                    });
                    
                    input.addEventListener('keypress', function(e) {
                        if (e.key === 'Enter') {
                            this.blur();
                        }
                    });
                    
                    this.textContent = '';
                    this.appendChild(input);
                    input.focus();
                }
            });
        });
    </script>
</body>
</html>