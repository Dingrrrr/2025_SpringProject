<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì…ì› ê´€ë¦¬</title>
  <link rel="stylesheet" href="/css/inpatient.css">
</head>
<body>
  <div class="container">
    <!--  ì‚¬ì´ë“œë°” -->
    <aside class="sidebar">
      <div class="profile">
        <div class="profile-icon">ğŸ‘¤</div>
        <div>
          <div class="profile-name">í™ê¸¸ë™</div>
          <div class="profile-role">ê°„í˜¸ì‚¬</div>
        </div>
      </div>
      <ul class="menu">
        <li>ì§„ë£Œ</li>
        <li>ì˜ˆì•½</li>
        <li>ìˆ˜ë‚©</li>
        <li>ì¬ê³ </li>
        <li class="active">ì…ì› â–¾
          <ul class="submenu">
            <li class="selected">ì…ì› ê´€ë¦¬</li>
            <li>ì…ì› í†µê³„</li>
          </ul>
        </li>
      </ul>
    </aside>

    <!--  ë³¸ë¬¸ -->
    <main class="main-content">
      <header class="page-header">
        <h1>ì…ì› ê´€ë¦¬</h1>
          <button id="addBtn" class="add-btn">+ í™˜ì ì…ì› ì¶”ê°€</button>
      </header>

      <!-- ë³‘ë™ íƒ­ -->
      <div class="ward-tabs">
        <button class="tab active">ëŒ€ê¸°ì‹¤</button>
        <button class="tab">1ë³‘ë™ A</button>
        <button class="tab">1ë³‘ë™ B</button>
        <button class="tab">2ë³‘ë™</button>
        <button class="tab">3ë³‘ë™</button>
      </div>

      <!-- ë³‘ì‹¤/í™˜ì ì¹´ë“œ ì˜ì—­ -->
      <div class="ward-board"></div>
    </main>
  </div>

  <!-- âœ… JavaScript ì‚½ì… -->
  <script>
    // ë”ë¯¸ ë°ì´í„°
    const bedData = [
      { ward: "ëŒ€ê¸°ì‹¤", room: "W01", name: "í™ê¸¸ë™", gender: "ë‚¨", age: 35, diagnosis: "ìœ„ì—¼", date: "2025-05-25", dept: "ë‚´ê³¼", doctor: "ê¹€ì˜ì‚¬", status: "ì…ì›ì¤‘" },
      { ward: "1ë³‘ë™ A", room: "101", name: "ì´ìˆœì‹ ", gender: "ë‚¨", age: 40, diagnosis: "ê°ê¸°", date: "2025-05-26", dept: "ë‚´ê³¼", doctor: "ë°•ì˜ì‚¬", status: "ëŒ€ê¸°" },
      { ward: "1ë³‘ë™ B", room: "201", name: "ì‹ ì‚¬ì„ë‹¹", gender: "ì—¬", age: 50, diagnosis: "ê³¨ì ˆ", date: "2025-05-20", dept: "ì •í˜•ì™¸ê³¼", doctor: "ì´ì˜ì‚¬", status: "ì…ì›ì¤‘" },
    ];

    function renderCards(wardName) {
      const board = document.querySelector(".ward-board");
      board.innerHTML = "";

      const filtered = bedData.filter(bed => bed.ward === wardName);

      filtered.forEach(bed => {
        const card = document.createElement("div");
        card.className = "bed-card";
        card.innerHTML = `
          <div class="bed-header">
            <span>${bed.room}</span>
            <span class="status ${bed.status}">${bed.status}</span>
          </div>
          <div class="patient-info">
            <p><strong>${bed.name}</strong> / ${bed.gender} / ${bed.age}ì„¸</p>
            <p>ì§„ë‹¨ëª…: ${bed.diagnosis}</p>
            <p>ì…ì›ì¼: ${bed.date}</p>
            <p>ì§„ë£Œê³¼: ${bed.dept}</p>
            <p>ë‹´ë‹¹ì˜: ${bed.doctor}</p>
          </div>
        `;
           card.addEventListener("click", () => {
	  const params = new URLSearchParams(bed).toString();
	 window.open(`/Inpatient/Popup?${params}`, 'í™˜ììƒì„¸', 'width=420,height=520');
	});
        board.appendChild(card);
      });
    }
    
 
    
    document.addEventListener("DOMContentLoaded", () => {
      // ì´ˆê¸° ë Œë”ë§
      renderCards("ëŒ€ê¸°ì‹¤");

      // íƒ­ í´ë¦­ ì´ë²¤íŠ¸ ì—°ê²°
      document.querySelectorAll(".tab").forEach(tab => {
        tab.addEventListener("click", () => {
          document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
          tab.classList.add("active");
          renderCards(tab.innerText);
        });
      });
       document.getElementById("addBtn").addEventListener("click", () => {
      window.open("/Inpatient/WaitingList", "ì…ì›ëŒ€ê¸° í™˜ì", "width=700,height=600");
    });
});
  </script>
</body>
</html>
