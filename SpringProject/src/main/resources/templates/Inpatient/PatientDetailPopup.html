<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>환자 상세 정보</title>
  <link rel="stylesheet" href="/css/patientDetail.css">
</head>
<body>
<h2>환자 정보</h2>
<div class="form-area">
  <label>이름</label>
  <p th:text="${admission.patient.patientName}">이름</p>

  <label>성별 / 나이</label>
  <p>
    <span th:text="${admission.patient.patientGender}">성별</span> /
    <span th:text="${admission.patient.age}">나이</span>세
  </p>

  <label>진단명</label>
  <p th:text="${admission.admissionReason ?: '미정'}">진단</p>

  <label>입원일</label>
  <p th:text="${#temporals.format(admission.admittedAt, 'yyyy-MM-dd')}">입원일</p>

  <label>담당의</label>
  <p th:text="${admission.doctor.usersName}">의사</p>

  <label>상태</label>
  <select name="status">
    <option value="입원대기" th:selected="${admission.patient.patientType == '입원대기'}">입원대기</option>
    <option value="입원중" th:selected="${admission.patient.patientType == '입원중'}">입원중</option>
    <option value="퇴원" th:selected="${admission.patient.patientType == '퇴원'}">퇴원</option>
  </select>
  
    <div class="button-group">
	    <button type="submit">수정</button>
	</div>


<div class="button-group">
  <form th:action="@{/Inpatient/delete}" method="post" onsubmit="return confirm('정말 삭제하시겠습니까?');">
    <input type="hidden" name="patientId" th:value="${admission.patient.patientId}"/>
    <button type="submit">삭제</button>
  </form>

  <button onclick="window.close()">닫기</button>
</div>
</body>
</html>
